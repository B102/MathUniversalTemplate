%%% A Simple Scheme Package, author: Hassium %%% 
%%% version 1.3.X (FSG Special Edition)%%% 

% I quoted some lines from Stackexchange and Github.

% 1. Packages
\usepackage[T1]{fontenc}
\usepackage[explicit]{titlesec}
\usepackage[utf8]{inputenc}
\usepackage{amsmath,amsthm,amssymb,amsfonts,mathrsfs,mathtools,nicematrix,chngcntr,centernot,ytableau,tikz-cd}
\usepackage{imakeidx, textcomp,tocloft,environ,everypage,setspace,geometry,enumerate,enumitem,blindtext,multicol,xcolor,fancyhdr,calligra,graphicx,wrapfig,pgfplots,mdframed,tabularx,lipsum,comment,csquotes,etoolbox}
\usepackage{chemfig}
\usepackage[hidelinks]{hyperref}

% 2. General Commands

% Enable useless warnings
% chktex-file 1 
% chktex-file 8
% chktex-file 36 
% chktex-file 31
% chktex-file 12 
% chktex-file 26 
% chktex-file 18

\newcommand\blfootnote[1]{%
  \begingroup
  \renewcommand\thefootnote{}\footnote{#1}%
  \addtocounter{footnote}{-1}%
  \endgroup
}

% Title page setup
\newcommand{\hsetup}{%
    \begin{center}\Huge\bfseries\htitle\end{center} 
    \normalsize
    \ \hfill\large \cfc{\hauthor}
    \normalsize
    \vspace{2pt}
    \phantom{}\hrule\phantom{}
}

% Table of contents
\renewcommand*\contentsname{}
\newcommand{\htoc}{%
    \normalsize
    \renewcommand{\cftsecpagefont}{\color{gray}}
    \begin{frame}{}
        \begin{multicols}{2}
          \tableofcontents
        \end{multicols}
    \end{frame}
    \pagestyle{empty}
    \vspace{-6.5pt}\phantom{}\hrule\phantom{}
}

\newcommand{\descr}[1]{%
  \addtocontents{toc}{\medskip\noindent\detokenize{#1}\leavevmode\par\medskip}
}

% Mainmatter
\newcommand{\hmain}{%
    \pagestyle{fancy}
    \fancyhead[L]{\cfc{\hauthor}}      
    \fancyhead[R]{\fontfamily{pzc}\selectfont{{\thepage}}}    
    \fancyhead[C]{\pagetitle}             
    \renewcommand{\headrulewidth}{0.5pt}
    \fancyfoot{}
}

% Index
\makeindex
\newcommand{\hdef}[1]{{\cfd{#1}}\index{#1}}
\newcommand{\hindex}{%
    \newpage
    \pagenumbering{gobble}
    \printindex
    \pagestyle{empty}
    \addcontentsline{toc}{section}{\protect\hyperlink{sec-index}{Index}}
    \hypertarget{sec-index}{} 
}

% Geometry 
\geometry{
  letterpaper,
  top=63pt,
  bottom=63pt,
  left=58pt,
  right=58pt,
  headheight=12pt,
  headsep=12pt
}

% Newsection (shown in ToC, no counter)
\makeatletter
\newcommand\newsection[1]{%
  \section*{#1}%
  \addcontentsline{toc}{section}{#1}%
}
\makeatother

% Backslash
\newcommand{\bs}{\backslash}

% Hyperlink on ToC and section titles
\titleformat{\section}
{\normalfont\Large\bfseries}{\thesection}{1em}{\hyperlink{sec-\thesection}{#1}
\addtocontents{toc}{\protect\hypertarget{sec-\thesection}{}}}
\titleformat{name=\section,numberless}
{\normalfont\Large\bfseries}{}{0pt}{\hyperlink{toc}{#1}}

% Table of contents section only
\setcounter{tocdepth}{1}

% Changefont
\newcommand{\cfd}[1]{\fontfamily{pzc}\selectfont{#1}\fontfamily{cmr}\selectfont{}} 
\newcommand{\cfc}[1]{\textsc{#1}\fontfamily{cmr}\selectfont{}} 

% Enumerate
\setlist[enumerate]{topsep=0pt,itemsep=-1ex,partopsep=1ex,parsep=1ex}

% Remove proofs by empty space
\NewEnviron{reviewmode}{%
    \let\visibleproof\proof
    \let\endvisibleproof\endproof
    \RenewEnviron{proof}{\phantom{}\\\ \\ \\}{}
    \BODY
    \let\proof\visibleproof
    \let\endproof\endvisibleproof
}

% Darkmode
\newcommand{\darkhsetup}{%
    \thispagestyle{empty}
    \begin{center}
        {\LARGE\bfseries\textcolor{white}{\htitle}} \\
        \vspace{2pt}
        {\small\texttt{\textcolor{white}{\hauthor}}}
    \end{center} 
    \normalsize
}

\newcommand{\darkhtoc}{
    \renewcommand*{\contentsname}{}
    \renewcommand{\cftsecfont}{\color{white}}        
    \renewcommand{\cftsecpagefont}{\color{white}}    
    \renewcommand{\cftsecpagefont}{\transparent{0}} 
    \begin{multicols}{2}
        \tableofcontents
    \end{multicols}
    \thispagestyle{empty}
}

\newcommand{\darkhmain}{
    \pagestyle{fancy}
    \pagecolor{black}
    \color{white}     
    \fancyhead[L]{\textcolor{white}{\textsc{\habauthor}}}  
    \fancyhead[R]{\textcolor{white}{\text{\thepage}}}
    \fancyhead[C]{\textcolor{white}{\text{\htitle}}  }           
    \renewcommand{\headrule}{\color{white}\hrule width\headwidth height0.5pt}
    \fancyfoot{}
}

\newcommand{\darkhstart}{
    \darkhsetup
    \darkhtoc
    \darkhmain
}

% Enumerate with tab
\newenvironment{level}
{\addtolength{\itemindent}{2em}}
{\addtolength{\itemindent}{-2em}}

% Circle
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{\node[shape=circle,draw,inner sep=0.5pt](char){#1};}}

% Roman numberals
\newcommand{\rom}{\romannumeral}

% Pgfplot setup
\pgfplotsset{compat=1.18}

% 3. Math

% Theorem styles
\theoremstyle{definition}
\newtheorem{definition}{Vocabulary}[section]
\newtheorem{theorem}{Theorem}
\newtheorem{proposition}{Proposition}
\newtheorem*{lemma}{Lemma}
\newtheorem*{corollary}{Corollary}
\newtheorem*{example}{Example}
\newtheorem*{remark}{Remark}
\newtheorem*{notation}{Notation}
\newtheorem*{construction}{Construction}
\newcommand{\customtheorem}[1]{%
    \expandafter\newtheorem\expandafter*{#1}{#1}%
}

\newenvironment{hdefinition}[1][]{%
    \ifx\relax#1\relax
        \begin{definition} % Use the default definition environment
    \else
        \begin{definition}[#1] % Include the optional argument in the definition title
        \index{#1} % Add the content of [] to the index
    \fi
    \setlength{\baselineskip}{12pt} % Set the line spacing to match the default
}{%
    \end{definition}
}

% Theorem in appendix
\newtheorem{atheorem}{Theorem}
\renewcommand{\theatheorem}{A\arabic{atheorem}}
\newenvironment{hatheorem}[1][]{%
    \ifx\relax#1\relax
        \begin{atheorem}
    \else
        \begin{atheorem}[#1]\index{#1}
    \fi
    \setlength{\baselineskip}{12pt}
}{%
    \end{atheorem}
}

\newtheorem{aproposition}{Proposition}
\renewcommand{\theaproposition}{A\arabic{aproposition}}
\newenvironment{haproposition}[1][]{%
    \ifx\relax#1\relax
        \begin{aproposition}
    \else
        \begin{aproposition}[#1]\index{#1}
    \fi
    \setlength{\baselineskip}{12pt}
}{%
    \end{aproposition}
}

% Equation counter
\counterwithin*{equation}{section}
\counterwithin*{equation}{subsection}

% Quiver (Authors: varkor (https://github.com/varkor), Andr√©C (https://tex.stackexchange.com/users/138900/andr%C3%A9c))
\usetikzlibrary{calc}
\usetikzlibrary{decorations.pathmorphing}
\tikzset{curve/.style={settings={#1},to path={(\tikztostart)
    .. controls ($(\tikztostart)!\pv{pos}!(\tikztotarget)!\pv{height}!270:(\tikztotarget)$)
    and ($(\tikztostart)!1-\pv{pos}!(\tikztotarget)!\pv{height}!270:(\tikztotarget)$)
    .. (\tikztotarget)\tikztonodes}},
    settings/.code={\tikzset{quiver/.cd,#1}
        \def\pv##1{\pgfkeysvalueof{/tikz/quiver/##1}}},
    quiver/.cd,pos/.initial=0.35,height/.initial=0}
\tikzset{tail reversed/.code={\pgfsetarrowsstart{tikzcd to}}}
\tikzset{2tail/.code={\pgfsetarrowsstart{Implies[reversed]}}}
\tikzset{2tail reversed/.code={\pgfsetarrowsstart{Implies}}}
\tikzset{no body/.style={/tikz/dash pattern=on 0 off 1mm}}

% Natural, rational, real, complex numbers, integers
\newcommand{\nat}{\mathbb{N}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\rn}[1]{{\mathbb{R}}^{#1}}
\newcommand{\cn}[1]{{\mathbb{C}}^{#1}}

% Change font (math) 
\newcommand{\bb}[1]{\mathbb{#1}}
\newcommand{\ca}[1]{\mathcal{#1}}
\newcommand{\fr}[1]{\mathfrak{#1}}

% Topological space
\newcommand{\T}{\mathcal{T}}

% Projective Plane
\newcommand{\p}{\mathbb{P}}
\newcommand{\pn}[1]{{\mathbb{P}}^{#1}}

% Times New Roman
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\sym}{sym}
\DeclareMathOperator{\alt}{alt}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\SL}{SL}
\DeclareMathOperator{\Mod}{Mod}
\DeclareMathOperator{\Cay}{Cay}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\Span}{span}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\Cl}{Cl}
\DeclareMathOperator{\Hol}{Hol}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\spec}{spec}
\DeclareMathOperator{\Syl}{Syl}
\DeclareMathOperator{\lie}{Lie}
\DeclareMathOperator{\vol}{vol}
\DeclareMathOperator{\dv}{div}
\DeclareMathOperator{\dr}{dR}
\DeclareMathOperator{\cod}{cod}
\DeclareMathOperator{\dom}{dom}
%\newcommand{\dv}{\text{div}}

%Group Representation
\newcommand{\Sg}{\mathfrak{S}}
\newcommand{\Ag}{\mathfrak{A}}

% Uniqueness
\newcommand{\uni}{\exists\ \text{!}\ }

% Greek and Hebrew letters
\newcommand{\al}{\alpha}
\newcommand{\be}{\beta}
\newcommand{\ga}{\gamma}
\newcommand{\ep}{\epsilon}
\newcommand{\de}{\delta}
\newcommand{\si}{\sigma}
\newcommand{\la}{\lambda}
\newcommand{\ka}{\kappa}
\newcommand{\vt}{\vartheta}
\newcommand{\vp}{\varphi}
\newcommand{\ve}{\varepsilon}

% Displaystyle
\newcommand{\dps}{\displaystyle}
\newcommand{\dpsv}[1]{\displaystyle\left\lvert{#1}\right\rvert}
\newcommand{\dpsV}[1]{\displaystyle\left\lVert{#1}\right\rVert}
\newcommand{\dpsa}[1]{\displaystyle\left\langle{#1}\right\rangle}
\newcommand{\dpssb}[1]{\displaystyle\left[{#1}\right]}
\newcommand{\dpsrb}[1]{\displaystyle\left({#1}\right)}
\newcommand{\dpscb}[1]{\displaystyle\left\{{#1}\right\}}

%Generated
\newcommand{\<}{\left\langle}
\renewcommand{\>}{\right\rangle}

% Arrows, maps, morphisms
\newcommand{\ua}{\uparrow}
\newcommand{\da}{\downarrow}
\newcommand{\Ra}{\Rightarrow}
\newcommand{\La}{\Leftarrow}
\newcommand{\Ua}{\Uparrow}
\newcommand{\Da}{\Downarrow}
\newcommand{\nRa}{\nRightarrow}
\newcommand{\nLa}{\nLeftarrow}
\newcommand{\hra}{\hookrightarrow}
\newcommand{\hla}{\hookleftarrow}
\newcommand{\lt}{\leadsto}
\newcommand{\mt}{\mapsto}
\newcommand{\rat}{\rightarrowtail}
\newcommand{\lat}{\leftarrowtail}
\newcommand{\thra}{\twoheadrightarrow}
\newcommand{\thla}{\twoheadleftarrow}
\newcommand{\bij}{\xrightarrow{\sim}} % right arrow with \sim on it

% Projective Plane
\newcommand{\CP}[1]{{\mathbb{CP}}^{#1}}
\newcommand{\RP}[1]{{\mathbb{RP}}^{#1}}

% Overline
\newcommand{\ol}[1]{\overline{#1}}

% Sets, inclusions
\newcommand{\sub}{\subset}
\newcommand{\sube}{\subseteq}
\newcommand{\supe}{\supseteq}
\newcommand{\nsub}{\centernot\subset}
\newcommand{\nsup}{\centernot\supset}
\newcommand{\nsube}{\centernot\subseteq}
\newcommand{\nsupe}{\centernot\supseteq}
\newcommand{\es}{\varnothing}
\newcommand{\sm}{\setminus}
\newcommand{\ps}{\mathscr{P}}
\newcommand{\Un}{\bigcup}
\newcommand{\In}{\bigcap}
\newcommand{\Du}{\bigsqcup}
\newcommand{\cp}{\amalg}
\newcommand{\Cp}{\coprod}

% Otimes, oplus
\newcommand{\ot}{\otimes}
\newcommand{\op}{\oplus}

% Group action
\newcommand{\acts}{\curvearrowright}

% Normal Subgroup
\newcommand{\nsg}{\trianglelefteq}

% Defined as
\newcommand{\defa}{\coloneqq}

% Semidirect product
\newcommand{\sdp}{\rtimes}

% Inverse
\newcommand{\inv}{^{-1}}

% Old Inverse Support
%\newcommand{\inv}[1]{{#1}^{-1}}

% Modulo
\renewcommand{\mod}{\ \text{mod}\ }

% Cardinality
\newcommand{\card}[1]{\lvert{#1}\rvert}

% Norm
\newcommand{\norm}[1]{\lVert{#1}\rVert}

% Partial order
\newcommand{\po}{\preceq}

% Category
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Inn}{Inn}
\DeclareMathOperator{\Out}{Out}
\DeclareMathOperator{\Iso}{Iso}
\DeclareMathOperator{\Ob}{Ob}
\newcommand{\cat}[1]{\mathsf{#1}}

% Triangle 
\newcommand{\tri}{\triangle}

% Partial derivative
\newcommand{\pa}{\partial}

% 4. Physics & Chemistry

% Quantum: h-bar
\newcommand{\hb}{\hbar}

% Partial operator
\newcommand{\pr}{\partial}

% Functions (pgfplot)
\pgfplotsset{compat=1.9}
\newcommand{\functiondraw}[4]{
    \begin{tikzpicture}[scale=#1]
        \begin{axis}[hide axis]
            \addplot[
                thick, 
                domain=#2:#3,
                samples=100
            ] 
            {#4};
        \end{axis}
    \end{tikzpicture}
}

\endinput
